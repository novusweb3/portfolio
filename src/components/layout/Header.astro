---
const navItems = [
  { label: 'Home', path: '/', icon: 'üè†' },
  { label: 'About', path: '/about', icon: 'üë§' },
  { label: 'Services', path: '/services', icon: '‚ö°' },
  { label: 'Portfolio', path: '/portfolio', icon: 'üíº' },
  { label: 'Contact', path: '/contact', icon: 'üì¨' },
];

const socialLinks = [
  { 
    platform: 'GitHub',
    url: 'https://github.com/novusweb3',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.477 2 2 6.477 2 12C2 16.991 5.657 21.128 10.438 22.279V18.707C10.438 18.707 9.875 18.707 9.125 18.707C7.625 18.707 6.875 17.707 6.625 16.957C6.5 16.582 6.25 16.207 5.875 15.957C5.625 15.832 5.5 15.832 5.5 15.832C5.25 15.832 5.375 16.082 5.375 16.082C6 16.832 6.375 17.332 6.75 17.832C7.375 18.707 8.375 18.457 9.125 18.332C9.25 17.832 9.5 17.457 9.875 17.207C7.375 16.832 5.625 15.707 5.625 13.082C5.625 12.082 6 11.207 6.625 10.457C6.5 10.207 6.25 9.207 6.75 7.957C6.75 7.957 7.875 7.957 9.25 9.082C10 8.832 10.875 8.707 11.75 8.707C12.625 8.707 13.5 8.832 14.25 9.082C15.625 7.957 16.75 7.957 16.75 7.957C17.25 9.207 17 10.207 16.875 10.457C17.5 11.207 17.875 12.082 17.875 13.082C17.875 15.707 16.125 16.832 13.625 17.207C14 17.457 14.375 18.082 14.375 18.832V22.279C19.156 21.128 22.813 16.991 22.813 12C22.813 6.477 18.336 2 12.813 2H12Z" fill="currentColor"/>
           </svg>`
  },
  { 
    platform: 'LinkedIn',
    url: 'https://www.linkedin.com/in/adrianbirsan/',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 3C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19ZM18.5 18.5V13.2C18.5 12.3354 18.1565 11.5062 17.5452 10.8948C16.9338 10.2835 16.1046 9.94 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17C14.6813 12.17 15.0374 12.3175 15.2999 12.5801C15.5625 12.8426 15.71 13.1987 15.71 13.57V18.5H18.5ZM6.88 8.56C7.32556 8.56 7.75288 8.383 8.06794 8.06794C8.383 7.75288 8.56 7.32556 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19C6.43178 5.19 6.00193 5.36805 5.68499 5.68499C5.36805 6.00193 5.19 6.43178 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56ZM8.27 18.5V10.13H5.5V18.5H8.27Z" fill="currentColor"/>
           </svg>`
  },
  { 
    platform: 'X',
    url: 'https://x.com/adrianbirsan_',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
           </svg>`
  }
];
---

<aside class="sidebar" id="sidebar">
  <button class="collapse-btn" id="collapse-btn" aria-label="Toggle menu">
    <span class="collapse-icon"></span>
  </button>

  <div class="profile-section">
    <h1 class="name typewriter">Adrian Birsan</h1>
    <p class="role">
      developer 
      <a href="https://ithd.co.uk" 
         target="_blank" 
         rel="noopener noreferrer" 
         class="company-link">@novusweb</a>
    </p>
    <div class="portrait-container">
      <img 
        src="/profile.jpg" 
        alt="Adrian Birsan" 
        class="portrait"
      />
    </div>
    <div class="social-links">
      {socialLinks.map((social) => (
        <a href={social.url} target="_blank" rel="noopener noreferrer" class="social-link" aria-label={social.platform}>
          <Fragment set:html={social.icon} />
        </a>
      ))}
    </div>
  </div>

  <nav class="nav-menu">
    {navItems.map((item) => (
      <a href={item.path} class="nav-link">
        <span class="icon">{item.icon}</span>
        <span class="label">{item.label}</span>
      </a>
    ))}
  </nav>
</aside>

<script>
  const sidebar = document.getElementById('sidebar');
  const collapseBtn = document.getElementById('collapse-btn');

  collapseBtn?.addEventListener('click', () => {
    sidebar?.classList.toggle('collapsed');
    localStorage.setItem('sidebarCollapsed', sidebar?.classList.contains('collapsed') ? 'true' : 'false');
  });

  window.addEventListener('load', () => {
    const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
    if (isCollapsed) {
      sidebar?.classList.add('collapsed');
    }
  });
</script>

<style>
  .sidebar {
    width: 100%;
    height: 100%;
    background-color: #1a1a1a;
    border-right: 1px solid #2a2a2a;
    display: flex;
    flex-direction: column;
    padding: 2rem 1.5rem;
    transition: width 0.3s ease;
  }

  .sidebar.collapsed {
    width: 80px;
  }

  .collapse-btn {
    position: absolute;
    right: -12px;
    top: 20px;
    width: 24px;
    height: 24px;
    background: #1a1a1a;
    border: 1px solid #2a2a2a;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .collapse-btn:hover {
    background: #2a2a2a;
  }

  .collapse-icon {
    width: 8px;
    height: 8px;
    border-right: 2px solid #666;
    border-bottom: 2px solid #666;
    transform: rotate(-45deg);
    transition: transform 0.3s ease;
  }

  .collapsed .collapse-icon {
    transform: rotate(135deg);
  }

  .profile-section {
    margin-bottom: 2.5rem;
    text-align: center;
  }

  .name {
    font-size: 1.25rem;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 0.5rem;
    position: relative;
    width: fit-content;
    margin: 0 auto 0.5rem;
  }

  .typewriter {
    overflow: hidden;
    border-right: 2px solid #666;
    white-space: nowrap;
    margin: 0 auto 0.5rem;
    animation: 
      typing 3.5s steps(40, end),
      blink-caret 0.75s step-end infinite;
  }

  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }

  @keyframes blink-caret {
    from, to { border-color: transparent }
    50% { border-color: #666 }
  }

  .role {
    color: #666;
    font-size: 0.875rem;
    margin-bottom: 1.5rem;
  }

  .company-link {
    color: #666;
    text-decoration: none;
    position: relative;
    transition: color 0.2s ease;
  }

  .company-link::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background-color: #666;
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s ease;
  }

  .company-link:hover {
    color: #ffffff;
  }

  .company-link:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }

  .collapsed .role {
    display: none;
  }

  .portrait-container {
    width: 160px;
    height: 200px;
    margin: 0 auto 1rem;
    overflow: hidden;
  }

  .portrait {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
  }

  .social-link {
    color: #666;
    transition: color 0.2s ease;
  }

  .social-link:hover {
    color: #ffffff;
  }

  .nav-menu {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .nav-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    text-decoration: none;
    color: #666;
    border-radius: 6px;
    transition: all 0.3s ease;
  }

  .nav-link:hover {
    background: rgba(255, 140, 0, 0.1);
    color: #ff8c00;
  }

  .nav-link:hover .icon {
    color: #ff8c00;
  }

  .icon {
    font-size: 1.2rem;
    min-width: 24px;
    text-align: center;
  }

  .collapsed .label,
  .collapsed .name,
  .collapsed .social-links {
    display: none;
  }

  .collapsed .portrait-container {
    width: 40px;
    height: 40px;
  }

  .collapsed .nav-link {
    justify-content: center;
    padding: 0.75rem 0;
  }

  .collapsed .icon {
    margin: 0;
  }

  /* Mobile styles */
  @media (max-width: 768px) {
    .sidebar {
      width: 80px;
    }

    .collapse-btn {
      display: none;
    }

    .name,
    .label,
    .social-links {
      display: none;
    }

    .portrait-container {
      width: 40px;
      height: 40px;
    }

    .nav-link {
      justify-content: center;
      padding: 0.75rem 0;
    }

    .icon {
      margin: 0;
    }
  }

  .nav-links {
    display: flex;
    gap: 2rem;
  }

  .nav-item {
    color: #ffffff;
    text-decoration: none;
    font-size: 1rem;
    padding: 0.5rem;
    transition: color 0.3s ease, background-color 0.3s ease;
    border-radius: 4px;
  }

  .nav-item:hover {
    color: #ff8c00;
    background-color: rgba(255, 140, 0, 0.1);
  }

  /* Keep responsive styles */
  @media (max-width: 768px) {
    /* ... keep existing responsive styles ... */
    
    .nav-item {
      padding: 0.3rem 0.8rem;
    }
  }
</style> 